# ============================================================================
# Kitty Terminal Configuration
# Framework 13 AMD | Gruvbox Material Dark Soft
# ============================================================================

# ----------------------------------------------------------------------------
# Theme
# ----------------------------------------------------------------------------
# BEGIN_KITTY_THEME
# Gruvbox Material Dark Soft
include current-theme.conf
# END_KITTY_THEME

# ----------------------------------------------------------------------------
# Typography
# ----------------------------------------------------------------------------
font_family      CaskaydiaCove NF
bold_font        CaskaydiaCove NF SemiBold
italic_font      CaskaydiaCove NF Italic
bold_italic_font CaskaydiaCove NF SemiBold Italic

font_size 12.0
adjust_line_height 105%

# Ligatures (CaskaydiaCove has great programming ligatures)
disable_ligatures never

# Complete Nerd Fonts symbol_map (covers ALL icon ranges)
# Maps icon codepoints to Symbols Nerd Font while keeping ligatures in main font
symbol_map U+23FB-U+23FE,U+2630,U+2665,U+26A1,U+276C-U+2771,U+2B58,U+E000-U+E00A,U+E0A0-U+E0A3,U+E0B0-U+E0C8,U+E0CA,U+E0CC-U+E0D2,U+E0D4,U+E0D6-U+E0D7,U+E200-U+E2A9,U+E300-U+E3E3,U+E5FA-U+E6B8,U+E700-U+E8EF,U+EA60-U+EC1E,U+ED00-U+EFCE,U+F000-U+F381,U+F400-U+F533,U+F0001-U+F1AF0 Symbols Nerd Font

# ----------------------------------------------------------------------------
# Cursor
# ----------------------------------------------------------------------------
cursor_shape beam
cursor_beam_thickness 1.8
cursor_blink_interval 0

# ----------------------------------------------------------------------------
# Scrollback
# ----------------------------------------------------------------------------
scrollback_lines 50000
scrollback_pager_history_size 10

# ----------------------------------------------------------------------------
# Performance (AMD Radeon 780M)
# ----------------------------------------------------------------------------
repaint_delay 10
input_delay 3
sync_to_monitor yes

# ----------------------------------------------------------------------------
# Shell Integration
# ----------------------------------------------------------------------------
shell_integration enabled

# Allow remote control (needed for search kitten and other kittens)
allow_remote_control yes

# ----------------------------------------------------------------------------
# Window & Padding
# ----------------------------------------------------------------------------
window_padding_width 25
window_border_width 0.5pt
active_border_color #d8a657
inactive_border_color #665c54

# Confirm on close only if there's a running process
confirm_os_window_close -1

# ----------------------------------------------------------------------------
# Tab Bar (Gruvbox-styled powerline)
# ----------------------------------------------------------------------------
tab_bar_edge bottom
tab_bar_style powerline
tab_powerline_style slanted
active_tab_foreground   #32302f
active_tab_background   #a9b665
active_tab_font_style   bold
inactive_tab_foreground #d4be98
inactive_tab_background #504945
inactive_tab_font_style normal
tab_bar_background      #32302f

# ----------------------------------------------------------------------------
# URLs
# ----------------------------------------------------------------------------
url_color #7daea3
url_style curly
detect_urls yes
open_url_with default

# ----------------------------------------------------------------------------
# Bell
# ----------------------------------------------------------------------------
enable_audio_bell no
visual_bell_duration 0.0

# ----------------------------------------------------------------------------
# Clipboard
# ----------------------------------------------------------------------------
copy_on_select clipboard

# ----------------------------------------------------------------------------
# Scrolling (touchpad/mouse)
# ----------------------------------------------------------------------------
touch_scroll_multiplier 2.0
wheel_scroll_multiplier 3.0
wheel_scroll_min_lines 1

# ----------------------------------------------------------------------------
# Keybindings
# ----------------------------------------------------------------------------
# Image paste workaround for Claude Code
# Ctrl+V: if clipboard has image, paste path; otherwise paste text
map ctrl+v kitten kittens/clip2path.py

# Search scrollback buffer (Ctrl+Shift+/)
map kitty_mod+/ launch --allow-remote-control kitty +kitten kittens/search/search.py @active-kitty-window-id

# ----------------------------------------------------------------------------
# Kittens
# ----------------------------------------------------------------------------

# Hints: Extract and act on URLs, paths, filenames, hashes, etc.
map kitty_mod+e         open_url_with_hints              # Click URLs with keyboard
map kitty_mod+p>f       kitten hints --type path --program -    # Insert path
map kitty_mod+p>shift+f kitten hints --type path         # Open path
map kitty_mod+p>l       kitten hints --type line --program -    # Insert line
map kitty_mod+p>w       kitten hints --type word --program -    # Insert word
map kitty_mod+p>h       kitten hints --type hash --program -    # Insert git hash
map kitty_mod+p>n       kitten hints --type linenum      # Open file:line in editor

# Unicode input: Insert any Unicode character by name or codepoint
map kitty_mod+u         kitten unicode_input

# File picker: Keyboard-first file selection
map kitty_mod+p>c       kitten choose-files --mode file   # Choose file, insert path
map kitty_mod+p>d       kitten choose-files --mode dir    # Choose directory, insert path
