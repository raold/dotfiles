# Hyprland-specific settings
# Battery-optimized configuration for Framework 13 AMD

# ═══════════════════════════════════════════════════════════════════════════════
# MISC SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    force_default_wallpaper = 0
    vfr = true                    # Variable frame rate - SAVES BATTERY
    vrr = 0                       # Variable refresh rate off - SAVES BATTERY
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
}

# ═══════════════════════════════════════════════════════════════════════════════
# CURSOR
# ═══════════════════════════════════════════════════════════════════════════════

cursor {
    inactive_timeout = 5
    hide_on_key_press = true
}

# ═══════════════════════════════════════════════════════════════════════════════
# GESTURES (touchpad)
# ═══════════════════════════════════════════════════════════════════════════════

gestures {
    gesture = 3, horizontal, workspace
}

# ═══════════════════════════════════════════════════════════════════════════════
# XWAYLAND
# ═══════════════════════════════════════════════════════════════════════════════

xwayland {
    force_zero_scaling = true
}

# ═══════════════════════════════════════════════════════════════════════════════
# ENVIRONMENT VARIABLES
# ═══════════════════════════════════════════════════════════════════════════════

env = XCURSOR_SIZE,30
env = XCURSOR_THEME,Bibata-Modern-Classic
env = QT_QPA_PLATFORMTHEME,qt5ct
env = GDK_SCALE,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = GDK_BACKEND,wayland,x11
env = QT_QPA_PLATFORM,wayland;xcb
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = SDL_VIDEODRIVER,wayland
env = CLUTTER_BACKEND,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# Force RADV (Mesa open-source) over amdgpu-pro for Vulkan
# amdgpu-pro crashes Chromium's ANGLE Vulkan backend
env = VK_ICD_FILENAMES,/usr/share/vulkan/icd.d/radeon_icd.x86_64.json:/usr/share/vulkan/icd.d/radeon_icd.i686.json

# FreeType stem darkening - makes fonts render "heavier" like macOS
# interpreter-version=40 enables subpixel positioning for smoother text
# stem-darkening enables the darkening algorithm (disabled by default in FreeType)
env = FREETYPE_PROPERTIES,truetype:interpreter-version=40 cff:no-stem-darkening=0 autofitter:no-stem-darkening=0

# ═══════════════════════════════════════════════════════════════════════════════
# DEBUG (uncomment if needed)
# ═══════════════════════════════════════════════════════════════════════════════

# debug {
#     disable_logs = false
#     enable_stdout_logs = true
# }
